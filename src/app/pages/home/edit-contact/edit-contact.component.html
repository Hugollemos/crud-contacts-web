<main class="min-h-screen pt-8 flex justify-content-center align-items-center">
  <p-toast [showTransformOptions]="'translateY(100%)'" [showTransitionOptions]="'1000ms'" [hideTransitionOptions]="'500ms'" [showTransformOptions]="'translateX(100%)'" />
  <p-card styleClass="m-auto w-full md:w-30rem my-0">
    <h1 class="text-center">Editar Contato</h1>
    <section class="px-4">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="p-3 flex flex-column gap-3 formgrid">
        <fieldset class="field col-12 m-0 p-0">
          <legend class="mb-2">
            <label for="name">Nome</label>
          </legend>
          <span class="p-input-icon-right w-full">
            <i class="pi pi-user"></i>
            <input type="text" class="w-full" pInputText formControlName="name" placeholder="Digite seu usuário" id="name" [ngClass]="{ 'ng-invalid ng-dirty': inputInvalid('name') }" />
          </span>
          <div *ngIf="inputInvalid('name')">
            <small class="text-red-600" *ngIf="getInputError('name', 'required')">Campo obrigatório</small>
          </div>
        </fieldset>

        <fieldset class="field col-12 m-0 p-0">
          <legend class="mb-2">
            <label for="email">Email</label>
          </legend>
          <span class="p-input-icon-right w-full">
            <i class="pi pi-envelope"></i>
            <input type="text" class="w-full" pInputText formControlName="email" placeholder="Digite seu usuário" id="email" [ngClass]="{ 'ng-invalid ng-dirty': inputInvalid('email') }" />
          </span>
          <div *ngIf="inputInvalid('email')">
            <small class="text-red-600" *ngIf="getInputError('email', 'required')">Campo obrigatório</small>
            <small class="text-red-600" *ngIf="getInputError('email', 'email')">Digite um email válido</small>
          </div>
        </fieldset>

        <fieldset class="field col-12 m-0 p-0">
          <legend class="mb-2">
            <label for="phone">Telefone</label>
          </legend>
          <span class="p-input-icon-right w-full">
            <i class="pi pi-phone"></i>
            <p-inputMask [style.width]="'100%'" styleClass="w-full" inputId="phone" formControlName="phone" mask="(99) 9999-9999" placeholder="(99) 9999-9999" [unmask]="true" [autoClear]="false" [ngClass]="{ 'ng-invalid ng-dirty': inputInvalid('phone') }"></p-inputMask>
          </span>
          <div *ngIf="inputInvalid('phone')">
            <small class="text-red-600" *ngIf="getInputError('phone', 'required')">Campo obrigatório</small>
            <small class="text-red-600" *ngIf="getInputError('phone', 'pattern')">Digite um telefone válido</small>
          </div>
        </fieldset>

        <div class="flex col-12 p-0 pt-2 flex-column-reverse sm:flex-row sm:justify-content-end">
          <p-button label="Editar" type="submit" styleClass="justify-content-center w-full sm:w-auto" [disabled]="form.invalid"></p-button>
        </div>

      </form>
    </section>
  </p-card>
</main>